import{g as p,r as d,y as g,c as e,a as t,k as u,t as r,F as x,x as y,s as f,o as s}from"./DQwChrcD.js";const _={class:"max-w-6xl mx-auto py-10 px-4"},h={key:0,class:"text-gray-500"},m={key:1,class:"text-red-600 font-semibold"},v={key:2},z={class:"min-w-full bg-white shadow-md rounded-lg overflow-hidden"},b={class:"text-gray-800 text-sm"},k={class:"px-4 py-2"},w={class:"px-4 py-2"},N={class:"px-4 py-2 capitalize"},S={class:"px-4 py-2"},B={key:3,class:"text-gray-600 italic"},O=p({__name:"organizations",setup(C){const c=d([]),o=d(!1),n=d("");return g(async()=>{o.value=!0,n.value="";try{const a=await $fetch("/api/platform/organizations",{credentials:"include",headers:f(["cookie"])});a.success?c.value=a.organizations:n.value=a.message||"Failed to fetch organizations."}catch(a){n.value="Error fetching organizations.",console.error(a)}finally{o.value=!1}}),(a,i)=>(s(),e("div",_,[i[1]||(i[1]=t("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Organizations in Your Platform",-1)),o.value?(s(),e("div",h,"Loading organizations...")):u("",!0),n.value?(s(),e("div",m,r(n.value),1)):u("",!0),!o.value&&c.value.length?(s(),e("div",v,[t("table",z,[i[0]||(i[0]=t("thead",{class:"bg-gray-100 text-gray-700 text-sm font-medium"},[t("tr",null,[t("th",{class:"text-left px-4 py-2"},"Name"),t("th",{class:"text-left px-4 py-2"},"Slug"),t("th",{class:"text-left px-4 py-2"},"Status"),t("th",{class:"text-left px-4 py-2"},"Created At")])],-1)),t("tbody",b,[(s(!0),e(x,null,y(c.value,l=>(s(),e("tr",{key:l._id,class:"border-t hover:bg-gray-50"},[t("td",k,r(l.name),1),t("td",w,r(l.slug),1),t("td",N,r(l.status),1),t("td",S,r(new Date(l.createdAt).toLocaleString()),1)]))),128))])])])):o.value?u("",!0):(s(),e("div",B,"No organizations found under your platform."))]))}});export{O as default};
