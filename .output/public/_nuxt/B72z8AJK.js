import{r,c,o as f,l as u,a as s,v,G as b,k as x,H as y,b as _,j as C,t as V}from"./DH2D_Orl.js";import{_ as g}from"./DlAUqK2U.js";const k={__name:"UserForm",emits:["user-created"],setup(w,{emit:o}){const n=o,t=r(""),l=r(""),d=r(""),i=r(""),p=r("user"),U=async()=>{try{const m=await $fetch("/api/user/create",{method:"POST",body:{username:t.value,name:l.value,email:d.value,password:i.value,role:p.value}});n("user-created",m.message),t.value=l.value=d.value=i.value="",p.value="user"}catch(m){n("user-created",m.statusMessage||"Creation failed")}};return(m,e)=>(f(),c("form",{onSubmit:x(U,["prevent"]),class:"bg-white shadow p-6 rounded w-full max-w-lg"},[u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),placeholder:"Username",class:"input",required:""},null,512),[[v,t.value]]),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),placeholder:"Name",class:"input",required:""},null,512),[[v,l.value]]),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),type:"email",placeholder:"Email",class:"input",required:""},null,512),[[v,d.value]]),u(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>i.value=a),type:"password",placeholder:"Password",class:"input",required:""},null,512),[[v,i.value]]),u(s("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>p.value=a),class:"input"},e[5]||(e[5]=[s("option",{value:"user"},"User",-1),s("option",{value:"admin"},"Admin",-1)]),512),[[b,p.value]]),e[6]||(e[6]=s("button",{type:"submit",class:"btn-primary w-full mt-4"},"Create User",-1))],32))}},q=g(k,[["__scopeId","data-v-0a1283c8"]]),M={class:"p-8"},N={key:0,class:"mt-4 text-green-600"},h=y({__name:"create-user",setup(w){const o=r(""),n=t=>{o.value=t};return(t,l)=>(f(),c("div",M,[l[0]||(l[0]=s("h1",{class:"text-3xl font-bold mb-6"},"Create User",-1)),_(q,{onUserCreated:n}),o.value?(f(),c("p",N,V(o.value),1)):C("",!0)]))}});export{h as default};
