import{g as h,r as b,y as f,c as r,a as e,k as c,z as p,t as o,F as m,x as v,n as x,o as s,l as z}from"./DQwChrcD.js";const k={class:"p-6"},C={key:0,class:"text-gray-500"},w={key:1,class:"text-red-600"},N={key:2,class:"w-full border-collapse border border-gray-300"},$=["onClick"],A={class:"border border-gray-300 p-2"},D={class:"border border-gray-300 p-2"},O={class:"border border-gray-300 p-2 capitalize"},B={class:"border border-gray-300 p-2 capitalize"},F={class:"border border-gray-300 p-2"},L={class:"border border-gray-300 p-2 text-center"},S=["onClick"],V={key:3,class:"text-gray-500"},T=h({__name:"index",setup(E){const l=b([]),n=b(!1),i=b(""),u=x();async function g(){n.value=!0,i.value="";try{const d=await $fetch("/api/org/listAll",{credentials:"include"});l.value=d.organizations||[]}catch{i.value="Failed to load organizations."}finally{n.value=!1}}function y(d){u.push(`/superadmin/organizations/${d}`)}return f(g),(d,a)=>(s(),r("div",k,[a[2]||(a[2]=e("h1",{class:"text-2xl font-bold mb-4"},"All Organizations",-1)),a[3]||(a[3]=e("p",{class:"mb-6 text-gray-600"},"View and manage all organizations under platforms.",-1)),e("button",{onClick:a[0]||(a[0]=t=>p(u).push("/superadmin/create-organization")),class:"mb-4 bg-blue-600 text-white px-4 py-2 rounded"}," + Create New Organization "),n.value?(s(),r("div",C,"Loading organizations...")):c("",!0),i.value?(s(),r("div",w,o(i.value),1)):c("",!0),!n.value&&l.value.length?(s(),r("table",N,[a[1]||(a[1]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border border-gray-300 p-2 text-left"},"Name"),e("th",{class:"border border-gray-300 p-2 text-left"},"Platform"),e("th",{class:"border border-gray-300 p-2 text-left"},"Type"),e("th",{class:"border border-gray-300 p-2 text-left"},"Status"),e("th",{class:"border border-gray-300 p-2 text-left"},"Created At"),e("th",{class:"border border-gray-300 p-2"},"Actions")])],-1)),e("tbody",null,[(s(!0),r(m,null,v(l.value,t=>(s(),r("tr",{key:t._id,class:"hover:bg-gray-50 cursor-pointer",onClick:_=>y(t._id)},[e("td",A,o(t.name),1),e("td",D,o(t.platformName),1),e("td",O,o(t.type),1),e("td",B,o(t.status),1),e("td",F,o(new Date(t.createdAt).toLocaleDateString()),1),e("td",L,[e("button",{onClick:z(_=>p(u).push(`/superadmin/organizations/${t._id}/edit`),["stop"]),class:"text-blue-600 hover:underline"}," Edit ",8,S)])],8,$))),128))])])):c("",!0),!n.value&&!l.value.length?(s(),r("div",V," No organizations found. ")):c("",!0)]))}});export{T as default};
