import{g as p,r as n,y as f,c as i,a as t,k as c,m as v,v as g,t as x,l as y,s as b,o as d}from"./DQwChrcD.js";import{u as h}from"./2qLusjlS.js";const _={class:"max-w-xl mx-auto py-10 px-4"},w=["disabled"],k={key:0,class:"text-green-600 mt-4"},O={key:1,class:"text-red-600 mt-4"},N=p({__name:"settings",setup(S){const a=n(""),s=n(!1),r=n(!1),u=n(!1);f(async()=>{var l;const{data:o,error:e}=await h("/api/org/details",{credentials:"include",headers:b()},"$7zXOZZ_Mwi");a.value=((l=o.value)==null?void 0:l.name)||""});async function m(){s.value=!0,r.value=!1,u.value=!1;try{const o=await $fetch("/api/org/update",{method:"POST",body:{name:a.value}});r.value=o.success}catch{u.value=!0}finally{s.value=!1}}return(o,e)=>(d(),i("div",_,[e[2]||(e[2]=t("h1",{class:"text-3xl font-semibold text-gray-800 mb-6"},"Organization Settings",-1)),t("form",{onSubmit:y(m,["prevent"]),class:"bg-white p-6 shadow rounded-xl space-y-4"},[t("div",null,[e[1]||(e[1]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Organization Name",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),type:"text",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[g,a.value]])]),t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",disabled:s.value},x(s.value?"Saving...":"Update Settings"),9,w)],32),r.value?(d(),i("p",k,"Organization updated successfully.")):c("",!0),u.value?(d(),i("p",O,"Failed to update. Try again later.")):c("",!0)]))}});export{N as default};
