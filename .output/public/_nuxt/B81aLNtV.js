import{g as b,r as n,c as u,a as t,k as y,m,v as x,A as g,F as w,x as k,t as p,l as P,n as h,o as i}from"./DQwChrcD.js";const C={class:"p-6 max-w-lg mx-auto"},S=["value"],T={key:0,class:"text-red-600"},F=["disabled"],_=b({__name:"create-platform",setup(N){const c=h(),o=n(""),r=n(""),a=n(""),d=n(!1),f=["grocery","college","doctor","hospital","other"];async function v(){if(a.value="",!o.value.trim()||!r.value){a.value="Please enter all required fields.";return}d.value=!0;try{const s=await $fetch("/api/platform/create",{method:"POST",credentials:"include",body:{name:o.value.trim(),type:r.value}});s.success?c.push("/superadmin/platforms"):a.value=s.message||"Failed to create platform."}catch{a.value="Failed to create platform."}finally{d.value=!1}}return(s,e)=>(i(),u("div",C,[e[5]||(e[5]=t("h1",{class:"text-2xl font-bold mb-6"},"Create New Platform",-1)),t("form",{onSubmit:P(v,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{for:"name",class:"block font-semibold mb-1"},"Platform Name",-1)),m(t("input",{id:"name",type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),class:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"e.g., Grocery Chain",required:""},null,512),[[x,o.value]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"type",class:"block font-semibold mb-1"},"Platform Type",-1)),m(t("select",{id:"type","onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),class:"w-full border border-gray-300 rounded px-3 py-2",required:""},[e[3]||(e[3]=t("option",{value:"",disabled:""},"Select Type",-1)),(i(),u(w,null,k(f,l=>t("option",{key:l,value:l},p(l),9,S)),64))],512),[[g,r.value]])]),a.value?(i(),u("div",T,p(a.value),1)):y("",!0),t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",disabled:d.value}," Create Platform ",8,F)],32)]))}});export{_ as default};
