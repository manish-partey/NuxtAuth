import{g as y,B as w,r as c,q as k,aa as S,c as n,a as t,z as f,l as V,m as d,v as p,A,k as B,p as C,t as N,o as r}from"./DQwChrcD.js";import{u as U}from"./2qLusjlS.js";const z={class:"max-w-3xl mx-auto py-10 px-4"},D={key:0,class:"text-gray-600"},F={key:1,class:"text-red-600 font-semibold"},M={class:"flex items-center gap-4"},$=y({__name:"settings",async setup(P){let i,m;const s=w({name:"",slug:"",description:"",status:"active"}),l=c(""),u=c(!1),{data:g,error:v,pending:b}=([i,m]=k(()=>U("/api/platform/settings/get",{credentials:"include"},"$2yoiRuNAzc")),i=await i,m(),i);S(()=>{var a;if((a=g.value)!=null&&a.settings){const e=g.value.settings;s.name=e.name||"",s.slug=e.slug||"",s.description=e.description||"",s.status=e.status||"active"}});const x=async()=>{l.value="",u.value=!1;try{await $fetch("/api/platform/settings/update",{method:"POST",body:s,credentials:"include"}),u.value=!0,l.value="Platform settings updated successfully."}catch(a){console.error("Save error:",a),l.value="Failed to update settings.",u.value=!1}};return(a,e)=>(r(),n("div",z,[e[10]||(e[10]=t("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Platform Settings",-1)),f(b)?(r(),n("div",D,"Loading settings...")):f(v)?(r(),n("div",F,"Failed to load settings.")):(r(),n("form",{key:2,onSubmit:V(x,["prevent"]),class:"space-y-6 bg-white border border-gray-200 rounded-xl shadow p-6"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),type:"text",class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,s.name]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Slug",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.slug=o),type:"text",class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,s.slug]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),d(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.description=o),rows:"4",class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,s.description]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),d(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.status=o),class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},e[7]||(e[7]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)]),512),[[A,s.status]])]),t("div",M,[e[9]||(e[9]=t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"}," Save Settings ",-1)),l.value?(r(),n("span",{key:0,class:C(u.value?"text-green-600":"text-red-600")},N(l.value),3)):B("",!0)])],32))]))}});export{$ as default};
