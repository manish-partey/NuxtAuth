import{g as m,r as p,y as h,c as a,a as e,k as c,b as v,z as b,t as d,F as x,x as k,n as C,o,l as N,ac as w}from"./DQwChrcD.js";const $={class:"p-6"},P={key:0,class:"text-gray-500"},D={key:1,class:"text-red-600"},F={key:2,class:"w-full border-collapse border border-gray-300"},L=["onClick"],z={class:"border border-gray-300 p-2"},A={class:"border border-gray-300 p-2 capitalize"},B={class:"border border-gray-300 p-2 capitalize"},M={class:"border border-gray-300 p-2"},S={class:"border border-gray-300 p-2 text-center"},V=["onClick"],E={key:3,class:"text-gray-500"},j=m({__name:"index",setup(T){const i=p([]),l=p(!1),n=p(""),u=C();async function f(){l.value=!0,n.value="";try{const r=await $fetch("/api/platform/list",{credentials:"include"});r.success?i.value=r.platforms:n.value=r.message||"Failed to load platforms."}catch{n.value="Failed to load platforms."}finally{l.value=!1}}function _(r){u.push(`/superadmin/platforms/${r}`)}return h(f),(r,t)=>{const y=w;return o(),a("div",$,[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold mb-4"},"Manage Platforms",-1)),t[3]||(t[3]=e("p",{class:"mb-6 text-gray-600"}," List of all industry-specific tenant platforms created by super admins. ",-1)),e("button",{onClick:t[0]||(t[0]=s=>b(u).push("/superadmin/create-platform")),class:"mb-4 bg-blue-600 text-white px-4 py-2 rounded"}," + Create New Platform "),l.value?(o(),a("div",P,"Loading platforms...")):c("",!0),n.value?(o(),a("div",D,d(n.value),1)):c("",!0),!l.value&&i.value.length?(o(),a("table",F,[t[1]||(t[1]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border border-gray-300 p-2 text-left"},"Name"),e("th",{class:"border border-gray-300 p-2 text-left"},"Type"),e("th",{class:"border border-gray-300 p-2 text-left"},"Status"),e("th",{class:"border border-gray-300 p-2 text-left"},"Created At"),e("th",{class:"border border-gray-300 p-2"},"Actions")])],-1)),e("tbody",null,[(o(!0),a(x,null,k(i.value,s=>(o(),a("tr",{key:s._id,class:"hover:bg-gray-50 cursor-pointer",onClick:g=>_(s._id)},[e("td",z,d(s.name),1),e("td",A,d(s.type),1),e("td",B,d(s.status),1),e("td",M,d(new Date(s.createdAt).toLocaleDateString()),1),e("td",S,[e("button",{onClick:N(g=>b(u).push(`/superadmin/platforms/${s._id}/edit`),["stop"]),class:"text-blue-600 hover:underline"}," Edit ",8,V)])],8,L))),128))])])):c("",!0),!l.value&&!i.value.length?(o(),a("div",E,"No platforms found.")):c("",!0),v(y)])}}});export{j as default};
