import{g as v,q as k,r as P,c as i,a as e,z as l,m as a,v as p,ab as b,A as S,l as c,o as r}from"./DQwChrcD.js";import{u as w}from"./2qLusjlS.js";const M={class:"max-w-3xl mx-auto py-10 px-6"},U={key:0},z={key:1,class:"text-red-600"},R={key:2},B=v({__name:"settings",async setup(V){var m;let n,u;const{data:f,error:g,pending:x}=([n,u]=k(()=>w("/api/settings","$bjkPxXzqHI")),n=await n,u(),n),s=P(((m=f.value)==null?void 0:m.settings)||{}),y=async()=>{var d;try{const t=await $fetch("/api/settings",{method:"POST",body:s.value});alert("Settings updated successfully")}catch(t){alert(((d=t==null?void 0:t.data)==null?void 0:d.message)||"Failed to update settings")}};return(d,t)=>(r(),i("div",M,[t[12]||(t[12]=e("h1",{class:"text-3xl font-bold mb-6 text-gray-800"},"Platform Settings",-1)),l(x)?(r(),i("div",U,"Loading settings...")):l(g)?(r(),i("div",z,"Failed to load settings.")):(r(),i("div",R,[e("form",{class:"space-y-4",onSubmit:c(y,["prevent"])},[e("div",null,[t[5]||(t[5]=e("label",{class:"block font-medium text-gray-700"},"Max Platforms",-1)),a(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=o=>l(s).maxPlatforms=o),class:"mt-1 block w-full border rounded px-3 py-2"},null,512),[[p,l(s).maxPlatforms]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block font-medium text-gray-700"},"Max Orgs per Platform",-1)),a(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>l(s).maxOrganizationsPerPlatform=o),class:"mt-1 block w-full border rounded px-3 py-2"},null,512),[[p,l(s).maxOrganizationsPerPlatform]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block font-medium text-gray-700"},"Enable Self Registration",-1)),a(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=o=>l(s).enableSelfRegistration=o),class:"mt-1"},null,512),[[b,l(s).enableSelfRegistration]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block font-medium text-gray-700"},"Default User Role",-1)),a(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).defaultUserRole=o),class:"mt-1 block w-full border rounded px-3 py-2"},t[8]||(t[8]=[e("option",{value:"user"},"User",-1),e("option",{value:"organization_admin"},"Organization Admin",-1)]),512),[[S,l(s).defaultUserRole]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block font-medium text-gray-700"},"Maintenance Mode",-1)),a(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=o=>l(s).maintenanceMode=o),class:"mt-1"},null,512),[[b,l(s).maintenanceMode]])]),t[11]||(t[11]=e("button",{type:"submit",class:"mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Save Settings ",-1))],32)]))]))}});export{B as default};
