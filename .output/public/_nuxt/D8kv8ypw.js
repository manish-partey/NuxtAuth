import{_ as g}from"./DdLUhfTO.js";import{r,y as x,D as y,c,a as s,k as m,l as k,m as p,v as w,p as P,t as h,E as _,w as N,o as i,d as V}from"./DQwChrcD.js";const B={class:"flex justify-center items-center min-h-screen bg-gray-50 px-4"},C={class:"bg-white p-10 rounded-xl shadow-lg w-full max-w-md","aria-labelledby":"reset-password-title"},M={class:"mt-4 text-center"},D={__name:"reset-password",setup(R){const f=y(),a=r(""),u=r(""),t=r(""),o=r(""),l=r("");x(()=>{l.value=f.query.token,l.value||(t.value="No reset token provided.",o.value="error")});const v=async()=>{if(t.value="",a.value!==u.value){t.value="Passwords do not match.",o.value="error";return}if(!l.value){t.value="Invalid or missing reset token.",o.value="error";return}try{const n=await $fetch("/api/auth/reset-password",{method:"POST",body:{token:l.value,newPassword:a.value}});t.value=n.message,o.value="success"}catch(n){t.value=n.statusMessage||"Password reset failed.",o.value="error"}};return(n,e)=>{const b=g;return i(),c("div",B,[s("section",C,[e[6]||(e[6]=s("h1",{id:"reset-password-title",class:"text-3xl font-extrabold text-gray-900 mb-8 text-center tracking-tight"}," Reset Password ",-1)),s("form",{onSubmit:k(v,["prevent"]),class:"space-y-6"},[s("div",null,[e[2]||(e[2]=s("label",{for:"newPassword",class:"block text-gray-700 text-sm font-semibold mb-2"}," New Password ",-1)),p(s("input",{type:"password",id:"newPassword","onUpdate:modelValue":e[0]||(e[0]=d=>a.value=d),required:"",autocomplete:"new-password",class:"w-full rounded-md border border-gray-300 px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-300 focus:outline-none transition"},null,512),[[w,a.value]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"confirmPassword",class:"block text-gray-700 text-sm font-semibold mb-2"}," Confirm New Password ",-1)),p(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[1]||(e[1]=d=>u.value=d),required:"",autocomplete:"new-password",class:"w-full rounded-md border border-gray-300 px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-300 focus:outline-none transition"},null,512),[[w,u.value]])]),e[4]||(e[4]=s("button",{type:"submit",class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md py-3 shadow-md transition focus:outline-none focus:ring-4 focus:ring-blue-400"}," Reset Password ",-1))],32),t.value?(i(),c("p",{key:0,class:P([o.value==="success"?"text-green-600":"text-red-600","mt-6 text-center font-medium"]),role:"alert"},h(t.value),3)):m("",!0),s("p",M,[o.value==="success"?(i(),_(b,{key:0,to:"/login",class:"text-blue-600 hover:underline font-medium"},{default:N(()=>e[5]||(e[5]=[V(" Go to Login ")])),_:1,__:[5]})):m("",!0)])])])}}};export{D as default};
